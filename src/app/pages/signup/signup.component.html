<div class="auth-wrapper horizontal-wizard">
  <!-- Logo -->
  <div class="logo">KyU VarsityHub</div>

  <!-- Wizard Card -->
  <div class="wizard-card">

    <!-- Step 1: Role Selection -->
    <div *ngIf="step === 1" class="step-section step-role active">
      <h2 class="auth-title">I am a...</h2>
      <div class="polished-role-cards">
        <div class="role-card" [class.selected]="role==='buyer'" (click)="selectRole('buyer')">
          <i class="bi bi-person-fill"></i>
          <span>Buyer</span>
        </div>
        <div class="role-card" [class.selected]="role==='seller'" (click)="selectRole('seller')">
          <i class="bi bi-shop"></i>
          <span>Seller</span>
        </div>
      </div>
    </div>

    <!-- Step 2: Role-specific Details -->
    <div *ngIf="step === 2" class="step-section step-details active">

      <!-- Buyer Form -->
      <ng-container *ngIf="role==='buyer'">
        <h2 class="auth-title">Buyer Details</h2>
        <div class="polished-input-group">
          <label>Full Name</label>
          <input type="text" [(ngModel)]="name" class="polished-input" placeholder="John Doe" />
        </div>
        <div class="polished-input-group">
          <label>Email</label>
          <input type="email" [(ngModel)]="email" class="polished-input" placeholder="example@email.com" />
        </div>
        <div class="polished-input-group">
          <label>Password</label>
          <input type="password" [(ngModel)]="password" class="polished-input" placeholder="••••••••" />
        </div>
      </ng-container>

      <!-- Seller Form -->
      <ng-container *ngIf="role==='seller'">
        <h2 class="auth-title">Seller Type</h2>
        <div class="polished-role-cards">
          <div class="role-card" [class.selected]="sellerType==='online'" (click)="selectSellerType('online')">
            <i class="bi bi-laptop"></i>
            <span>Online Seller</span>
          </div>
          <div class="role-card" [class.selected]="sellerType==='shop'" (click)="selectSellerType('shop')">
            <i class="bi bi-shop-window"></i>
            <span>Shop Owner</span>
          </div>
        </div>

        <div *ngIf="sellerType" class="seller-fields">
          <div class="polished-input-group">
            <label>Store Name</label>
            <input type="text" [(ngModel)]="storeName" class="polished-input" placeholder="My Virtual Shop" />
          </div>
          <div class="polished-input-group">
            <label>Store Phone</label>
            <input type="text" [(ngModel)]="storePhone" class="polished-input" placeholder="+254712345678" />
          </div>
          <button class="btn-auth alt polished-btn guide-btn" (click)="toggleGuide()">Need Help?</button>
        </div>
      </ng-container>

      <!-- Navigation Buttons -->
      <div class="btn-row">
        <button class="btn-auth alt polished-btn" (click)="prevStep()">Back</button>
        <button class="btn-auth polished-btn" (click)="nextStep()">Proceed</button>
      </div>
    </div>

    <!-- Step 3: Confirm Password -->
    <div *ngIf="step === 3" class="step-section step-confirm active">
      <h2 class="auth-title">Confirm Your Password</h2>
      <div class="polished-input-group">
        <label>Confirm Password</label>
        <input type="password" [(ngModel)]="confirmPassword" class="polished-input" placeholder="••••••••" />
      </div>
      <div class="btn-row">
        <button class="btn-auth alt polished-btn" (click)="prevStep()">Back</button>
        <button class="btn-auth polished-btn" (click)="onSignup()">Sign Up</button>
      </div>
    </div>

  </div>
</div>

<!-- Guide Modal -->
<div class="guide-modal" *ngIf="showGuide">
  <div class="guide-content">
    <h3>How to register for a Virtual Shop</h3>
    <ol>
      <li>Choose "Seller" as your role.</li>
      <li>Select your seller type: Online Seller or Shop Owner.</li>
      <li>Fill in your store name and contact phone.</li>
      <li>Set your password.</li>
      <li>After signing up, you will receive a unique Shop Number to log in.</li>
    </ol>
    <button class="btn-auth alt polished-btn" (click)="toggleGuide()">Close</button>
  </div>
</div>
